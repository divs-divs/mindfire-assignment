{"ast":null,"code":"import _classCallCheck from \"/home/divyas/mindfire-assignment-react/react/reactbaserepo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/divyas/mindfire-assignment-react/react/reactbaserepo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/divyas/mindfire-assignment-react/react/reactbaserepo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/divyas/mindfire-assignment-react/react/reactbaserepo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/divyas/mindfire-assignment-react/react/reactbaserepo/src/views/components/SourceCustomer/User/UsersList.js\";\nimport React, { Component } from \"react\";\nimport HttpTransferService from \"../../../../utils/httptransfer\";\nimport UserAddModal from './addUserModal';\nimport UserEditModal from './editUserModal';\nimport UserDeleteModal from './deleteUserModal';\nimport '../../../../views/modal.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTrash, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Alert } from 'reactstrap';\nimport { withTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\nvar httptransfer = new HttpTransferService();\n\nvar Users = /*#__PURE__*/function (_Component) {\n  _inherits(Users, _Component);\n\n  var _super = _createSuper(Users);\n\n  function Users(props) {\n    var _this;\n\n    _classCallCheck(this, Users);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      users: [],\n      showPopup: false,\n      entityId: '',\n      userDetails: '',\n      showEditUserModal: false,\n      showDeleteUserModal: false\n    };\n    return _this;\n  }\n\n  _createClass(Users, [{\n    key: \"toggleEditPopup\",\n    value: function toggleEditPopup(item) {\n      this.setState({\n        userDetails: item,\n        showEditUserModal: !this.state.showEditUserModal\n      });\n      this.getUsers();\n    }\n  }, {\n    key: \"toggleDeletePopup\",\n    value: function toggleDeletePopup(item) {\n      this.setState({\n        userDetails: item,\n        showDeleteUserModal: !this.state.showDeleteUserModal\n      });\n      this.getUsers();\n    }\n  }, {\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n      this.getUsers();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsers();\n    }\n  }, {\n    key: \"getUsers\",\n    value: function getUsers() {\n      var _this2 = this;\n\n      var searchParametre = {\n        'is_deleted': [false]\n      };\n      var entity_id = this.props.entityId;\n      httptransfer.userQuery(searchParametre, entity_id).then(function (response) {\n        if (response.status === 200) {\n          _this2.setState({\n            users: response['data']['users']\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          t = _this$props.t,\n          i18n = _this$props.i18n;\n      var userDetails = '';\n\n      if (this.state.users.length) {\n        userDetails = this.state.users.map(function (item) {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 9\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 13\n            }\n          }, item.first_name), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 13\n            }\n          }, item.last_name), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 13\n            }\n          }, item.mobile), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 13\n            }\n          }, item.email), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }\n          }, item.status.split('_').join(' ')), /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            icon: faPencilAlt,\n            size: \"xl\",\n            className: \"mr-3 text-primary cr-pointer\",\n            onClick: _this3.toggleEditPopup.bind(_this3, item),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }\n          }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n            icon: faTrash,\n            size: \"xl\",\n            className: \"text-danger cr-pointer\",\n            onClick: _this3.toggleDeletePopup.bind(_this3, item),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 15\n            }\n          })));\n        });\n      } else {\n        userDetails = /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"ml-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          colSpan: \"10\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 42\n          }\n        }, /*#__PURE__*/React.createElement(Alert, {\n          color: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 59\n          }\n        }, t(\"NO_DATA_FOUND\"))));\n      }\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ToastContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.togglePopup.bind(this),\n        className: \"btn btn-info pull-right mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n        icon: faPlus,\n        size: \"sm\",\n        className: \"mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }), t(\"ADD_USER\")), this.state.showPopup ? /*#__PURE__*/React.createElement(UserAddModal, {\n        entityId: this.props.entityId,\n        showPopup: this.state.showPopup,\n        togglePopup: this.togglePopup.bind(this),\n        entityType: this.props.entityType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 19\n        }\n      }) : null, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-responsive-sm table-striped\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }\n      }, \"Airport Id\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, \"Airport Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }\n      }, \"Fuel\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, t(\"EMAIL\")), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }, t(\"STATUS\")), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }\n      }, t(\"ACTIONS\")))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }\n      }, userDetails))), this.state.showEditUserModal ? /*#__PURE__*/React.createElement(UserEditModal, {\n        entityId: this.props.entityId,\n        userDetails: this.state.userDetails,\n        showPopup: this.state.showEditUserModal,\n        togglePopup: this.toggleEditPopup.bind(this),\n        entityType: this.props.entityType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 19\n        }\n      }) : null, this.state.showDeleteUserModal ? /*#__PURE__*/React.createElement(UserDeleteModal, {\n        entityId: this.props.entityId,\n        userDetails: this.state.userDetails,\n        showPopup: this.state.showDeleteUserModal,\n        togglePopup: this.toggleDeletePopup.bind(this),\n        entityType: this.props.entityType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 19\n        }\n      }) : null);\n    }\n  }]);\n\n  return Users;\n}(Component);\n\n;\nUsers.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withTranslation(\"translations\")(Users);","map":{"version":3,"sources":["/home/divyas/mindfire-assignment-react/react/reactbaserepo/src/views/components/SourceCustomer/User/UsersList.js"],"names":["React","Component","HttpTransferService","UserAddModal","UserEditModal","UserDeleteModal","FontAwesomeIcon","faPlus","faTrash","faPencilAlt","ToastContainer","Alert","withTranslation","PropTypes","httptransfer","Users","props","state","users","showPopup","entityId","userDetails","showEditUserModal","showDeleteUserModal","item","setState","getUsers","searchParametre","entity_id","userQuery","then","response","status","t","i18n","length","map","first_name","last_name","mobile","email","split","join","toggleEditPopup","bind","toggleDeletePopup","togglePopup","entityType","propTypes","classes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport HttpTransferService from \"../../../../utils/httptransfer\";\nimport UserAddModal from './addUserModal';\nimport UserEditModal from './editUserModal';\nimport UserDeleteModal from './deleteUserModal';\nimport '../../../../views/modal.css';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlus, faTrash, faPencilAlt } from '@fortawesome/free-solid-svg-icons';\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Alert } from 'reactstrap';\nimport {  withTranslation } from \"react-i18next\";\nimport PropTypes from \"prop-types\";\n\n\nconst httptransfer = new HttpTransferService();\n\nclass Users extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users:[],\n      showPopup: false,\n      entityId:'',\n      userDetails: '',\n      showEditUserModal: false,\n      showDeleteUserModal: false,\n    };\n  }\n\n  toggleEditPopup (item) {\n    this.setState({\n      userDetails: item,\n      showEditUserModal: !this.state.showEditUserModal\n    })\n    this.getUsers();\n  }\n\n  toggleDeletePopup (item) {\n    this.setState({\n      userDetails: item,\n      showDeleteUserModal: !this.state.showDeleteUserModal\n    })\n    this.getUsers()\n  }\n\n  togglePopup() {\n    this.setState({\n      showPopup: !this.state.showPopup\n    });\n    this.getUsers();\n  }\n\n  componentDidMount() {\n    this.getUsers()\n  }\n\n  getUsers() {\n    var searchParametre = {'is_deleted':[false]}\n    var entity_id = this.props.entityId;\n    httptransfer.userQuery(searchParametre, entity_id)\n      .then(response => {\n        if (response.status === 200) {\n          this.setState({\n            users : response['data']['users']\n           })\n        }\n      });\n  }\n\n  render(){\n    const { t, i18n } = this.props;\n    let userDetails = ''\n    if (this.state.users.length) {\n      userDetails = this.state.users.map(item => (\n        <tr>\n            <td>{item.first_name}</td> \n            <td>{item.last_name}</td>\n            <td>{item.mobile}</td>\n            <td>{item.email}</td>\n            <td>{item.status.split('_').join(' ')}</td>\n            <td>\n              <FontAwesomeIcon icon={faPencilAlt} size=\"xl\" className=\"mr-3 text-primary cr-pointer\" onClick={this.toggleEditPopup.bind(this, item)}/>\n              <FontAwesomeIcon icon={faTrash} size=\"xl\" className=\"text-danger cr-pointer\" onClick={this.toggleDeletePopup.bind(this, item)} />\n            </td>\n        </tr>\n      ))\n    } else {\n      userDetails = <tr className=\"ml-3\"><td colSpan=\"10\"><Alert color=\"primary\">{t(\"NO_DATA_FOUND\")}</Alert></td></tr>\n    }\n    return (\n          <div>\n            <ToastContainer />\n            <div className=\"col-sm-12\">\n            <button onClick={this.togglePopup.bind(this)} className=\"btn btn-info pull-right mb-3\">\n            <FontAwesomeIcon icon={faPlus} size=\"sm\" className=\"mr-1\" />{t(\"ADD_USER\")}</button>\n              {this.state.showPopup ? \n                  <UserAddModal\n                  entityId = {this.props.entityId}\n                  showPopup={this.state.showPopup}\n                  togglePopup={this.togglePopup.bind(this)}\n                  entityType={this.props.entityType}\n                />\n                : null}\n              <table className=\"table table-responsive-sm table-striped\">\n                <thead>\n                  <tr>\n                    <th>Airport Id</th>\n                    <th>Airport Name</th>\n                    <th>Fuel</th>\n                    <th>{t(\"EMAIL\")}</th>\n                    <th>{t(\"STATUS\")}</th>\n                    <th>{t(\"ACTIONS\")}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {userDetails}\n                </tbody>\n              </table>\n            </div>\n            {this.state.showEditUserModal ? \n                  <UserEditModal\n                  entityId = {this.props.entityId}\n                  userDetails = {this.state.userDetails}\n                  showPopup={this.state.showEditUserModal}\n                  togglePopup={this.toggleEditPopup.bind(this)}\n                  entityType={this.props.entityType}\n                />\n            : null }\n\n            {this.state.showDeleteUserModal ? \n                  <UserDeleteModal\n                  entityId = {this.props.entityId}\n                  userDetails = {this.state.userDetails}\n                  showPopup={this.state.showDeleteUserModal}\n                  togglePopup={this.toggleDeletePopup.bind(this)}\n                  entityType={this.props.entityType}\n                />\n            : null }\n          </div>  \n    );\n  }\n};\n\nUsers.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default (withTranslation(\"translations\")(Users));"]},"metadata":{},"sourceType":"module"}