{"ast":null,"code":"import _classCallCheck from \"/home/divyas/mindfire-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/divyas/mindfire-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/divyas/mindfire-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/divyas/mindfire-assignment/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/divyas/mindfire-assignment/src/views/components/Profile/Info.js\";\nimport React, { Component } from 'react';\nimport { Col, Row, Jumbotron, Container, Input, Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport AuthenticationService from '../../../utils/authentication';\nimport './profile.css';\nimport HttpTransferService from \"../.././../utils/httptransfer\";\nimport UserInfoUpdate from './UpdateInfo';\nimport constant from '../../../constants/constant';\nimport UploadProfilePicture from './ProfilePictureUpload';\nimport moment from 'moment';\nimport utils from '../../../utils/date';\nvar authentication = new AuthenticationService();\nvar httptransfer = new HttpTransferService();\n\nvar UpdateInfo = /*#__PURE__*/function (_React$Component) {\n  _inherits(UpdateInfo, _React$Component);\n\n  var _super = _createSuper(UpdateInfo);\n\n  function UpdateInfo() {\n    var _this;\n\n    _classCallCheck(this, UpdateInfo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.closePopup = function () {\n      _this.props.closePopup();\n    };\n\n    return _this;\n  }\n\n  _createClass(UpdateInfo, [{\n    key: \"render\",\n    value: function render() {\n      var closebtn = /*#__PURE__*/React.createElement(\"button\", {\n        className: \"close\",\n        onClick: this.closePopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 24\n        }\n      }, \"\\xD7\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Modal, {\n        size: \"lg\",\n        isOpen: this.props.showPopup,\n        toggle: this.props.closePopup,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ModalHeader, {\n        toggle: this.props.closePopup,\n        close: closebtn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }\n      }, \"Update Information\"), /*#__PURE__*/React.createElement(ModalBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(UserInfoUpdate, {\n        closeModal: this.closePopup,\n        userInfo: this.props.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 17\n        }\n      }))));\n    }\n  }]);\n\n  return UpdateInfo;\n}(React.Component);\n\nvar userInfo = authentication.getUserInfo();\nvar userId = JSON.parse(userInfo).user_id;\n\nvar Info = /*#__PURE__*/function (_Component) {\n  _inherits(Info, _Component);\n\n  var _super2 = _createSuper(Info);\n\n  function Info(props) {\n    var _this2;\n\n    _classCallCheck(this, Info);\n\n    _this2 = _super2.call(this, props);\n    _this2.state = {\n      userInfo: [],\n      showPopup: false,\n      profilePopup: false,\n      imageUrl: '',\n      image_id: ''\n    };\n    return _this2;\n  }\n\n  _createClass(Info, [{\n    key: \"togglePopup\",\n    value: function togglePopup() {\n      this.setState({\n        showPopup: !this.state.showPopup\n      });\n      this.userQuery();\n    }\n  }, {\n    key: \"profilePopup\",\n    value: function profilePopup() {\n      this.userQuery();\n      this.setState({\n        profilePopup: !this.state.profilePopup\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.userQuery();\n    }\n  }, {\n    key: \"userQuery\",\n    value: function userQuery() {\n      var _this3 = this;\n\n      var user_id = userId;\n      var searchParametre = {\n        'user_id': [user_id]\n      };\n      var entity_id = constant.ENTITY_ID;\n      httptransfer.userQuery(searchParametre, entity_id).then(function (response) {\n        if (response.status === 200) {\n          _this3.setState({\n            userInfo: response['data']['users']\n          });\n        }\n      });\n      this.userImageQuery();\n    }\n  }, {\n    key: \"userImageQuery\",\n    value: function userImageQuery() {\n      var _this4 = this;\n\n      var user_id = userId;\n      var searchParametre = {\n        'user_id': [user_id],\n        'type': ['PROFILE'] // 'image_id': ['']\n\n      };\n      var entity_id = constant.ENTITY_ID;\n      httptransfer.queryUserImage(searchParametre, entity_id).then(function (response) {\n        if (response.status === 200) {\n          if (response['data']['images'].length) {\n            _this4.setState({\n              imageUrl: response['data']['images'][0]['image_download_url'],\n              image_id: response['data']['images'][0]['image_id']\n            });\n          } else {\n            _this4.setState({\n              imageUrl: null\n            });\n          }\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Jumbotron, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Container, {\n        fluid: true,\n        id: \"base-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }\n      }, this.state.showPopup ? /*#__PURE__*/React.createElement(UpdateInfo, {\n        showPopup: this.state.showPopup,\n        closePopup: this.togglePopup.bind(this),\n        userInfo: this.state.userInfo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 27\n        }\n      }) : null, this.state.profilePopup ? /*#__PURE__*/React.createElement(UploadProfilePicture, {\n        showPopup: this.state.profilePopup,\n        closePopup: this.profilePopup.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 27\n        }\n      }) : null, this.state.userInfo.map(function (item, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 35\n          }\n        }, /*#__PURE__*/React.createElement(Row, {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          sm: \"6\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          id: \"profilePhoto\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 33\n          }\n        }, _this5.state.image_id.length != 0 ? /*#__PURE__*/React.createElement(\"img\", {\n          src: _this5.state.imageUrl,\n          alt: \"image\",\n          onClick: _this5.profilePopup.bind(_this5),\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 35\n          }\n        }) : /*#__PURE__*/React.createElement(\"i\", {\n          className: \"fa fa-user\",\n          id: \"defaultPhoto\",\n          \"aria-hidden\": \"true\",\n          onClick: _this5.profilePopup.bind(_this5),\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 35\n          }\n        }))), /*#__PURE__*/React.createElement(Col, {\n          sm: \"6\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-info pull-right mt-4\",\n          onClick: _this5.togglePopup.bind(_this5),\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 33\n          }\n        }, \"Update Information\"))), /*#__PURE__*/React.createElement(Row, {\n          id: \"info-account\",\n          className: \"pt-3 ml-1 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 31\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 33\n          }\n        }, \"ACCOUNT INFORMATION\")), /*#__PURE__*/React.createElement(Row, {\n          className: \"pt-3 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 29\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          xs: \"3\",\n          sm: \"3\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 37\n          }\n        }, \"Full Name :\"), /*#__PURE__*/React.createElement(Col, {\n          xs: \"8\",\n          sm: \"8\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 37\n          }\n        }, item.first_name, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"pl-2\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 73\n          }\n        }, item.last_name))), /*#__PURE__*/React.createElement(Row, {\n          className: \"pt-3 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          xs: \"3\",\n          sm: \"3\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 37\n          }\n        }, \"Email :\"), /*#__PURE__*/React.createElement(Col, {\n          xs: \"8\",\n          sm: \"8\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 37\n          }\n        }, item.email ? item.email : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 83\n          }\n        }, \"-\"))), /*#__PURE__*/React.createElement(Row, {\n          className: \"pt-3 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          xs: \"3\",\n          sm: \"3\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 37\n          }\n        }, \"Contact No. :\"), /*#__PURE__*/React.createElement(Col, {\n          xs: \"8\",\n          sm: \"8\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 37\n          }\n        }, item.mobile ? item.mobile : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 87\n          }\n        }, \"-\"))), /*#__PURE__*/React.createElement(Row, {\n          className: \"pt-3 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          xs: \"3\",\n          sm: \"3\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 37\n          }\n        }, \"Gender :\"), /*#__PURE__*/React.createElement(Col, {\n          xs: \"8\",\n          sm: \"8\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 37\n          }\n        }, item.gender ? item.gender : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 87\n          }\n        }, \"-\"))), /*#__PURE__*/React.createElement(Row, {\n          className: \"pt-3 font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          xs: \"3\",\n          sm: \"3\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 37\n          }\n        }, \"D.O.B. :\"), /*#__PURE__*/React.createElement(Col, {\n          xs: \"8\",\n          sm: \"8\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 37\n          }\n        }, item.dob ? moment(item.dob).format(utils.displayDate()) : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"font-weight-bold\",\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 118\n          }\n        }, \"-\"))));\n      }))));\n    }\n  }]);\n\n  return Info;\n}(Component);\n\nexport default Info;","map":{"version":3,"sources":["/home/divyas/mindfire-assignment/src/views/components/Profile/Info.js"],"names":["React","Component","Col","Row","Jumbotron","Container","Input","Modal","ModalBody","ModalHeader","AuthenticationService","HttpTransferService","UserInfoUpdate","constant","UploadProfilePicture","moment","utils","authentication","httptransfer","UpdateInfo","closePopup","props","closebtn","showPopup","userInfo","getUserInfo","userId","JSON","parse","user_id","Info","state","profilePopup","imageUrl","image_id","setState","userQuery","searchParametre","entity_id","ENTITY_ID","then","response","status","userImageQuery","queryUserImage","length","togglePopup","bind","map","item","index","first_name","last_name","email","mobile","gender","dob","format","displayDate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Col, Row,Jumbotron, Container, Input,Modal, ModalBody, ModalHeader } from 'reactstrap';\nimport AuthenticationService from '../../../utils/authentication';\nimport './profile.css';\nimport HttpTransferService from \"../.././../utils/httptransfer\";\nimport UserInfoUpdate from './UpdateInfo';\nimport constant from '../../../constants/constant';\nimport UploadProfilePicture from './ProfilePictureUpload';\nimport moment from 'moment';\nimport utils from '../../../utils/date'\n\nconst  authentication = new AuthenticationService()\nconst httptransfer = new HttpTransferService();\n\n\nclass UpdateInfo extends React.Component {\n\n    closePopup = () => {\n      this.props.closePopup();\n    }\n    render() {\n      const closebtn = <button className=\"close\" onClick={this.closePopup}>&times;</button>;\n      return (\n        <div>\n          <Modal\n            size=\"lg\"\n            isOpen={this.props.showPopup}\n            toggle={this.props.closePopup}\n          >\n            <ModalHeader toggle={this.props.closePopup} close={closebtn}>Update Information</ModalHeader>\n            <ModalBody>\n                <UserInfoUpdate   closeModal={this.closePopup}\n                 userInfo={this.props.userInfo} />\n                               \n            </ModalBody>\n          </Modal>\n        </div>\n      );\n    }\n  }\n\nvar userInfo = authentication.getUserInfo()\nvar userId = JSON.parse(userInfo).user_id\n\nclass Info  extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          userInfo : [],\n          showPopup : false,\n          profilePopup: false,\n          imageUrl : '',\n          image_id:''\n        }\n  \n      };\n\n      togglePopup() {\n        this.setState({\n          showPopup: !this.state.showPopup\n        });\n        this.userQuery()\n      }\n  \n      profilePopup () {\n        this.userQuery()\n        this.setState({\n          profilePopup : !this.state.profilePopup\n        }) \n      }\n\n      componentDidMount () {\n        this.userQuery()\n\n    }\n  \n    userQuery () {\n      var user_id = userId\n      var searchParametre = {\n        'user_id' : [user_id]\n      }\n      var entity_id = constant.ENTITY_ID\n      httptransfer.userQuery(searchParametre, entity_id)\n      .then(response => {\n        if (response.status === 200) {\n          this.setState({\n            userInfo : response['data']['users'] \n           })\n        }\n      });\n      this.userImageQuery()\n    }\n\n    userImageQuery() {\n      var user_id = userId\n      var searchParametre = {\n        'user_id' : [user_id],\n        'type':['PROFILE'],\n        // 'image_id': ['']\n      }\n      var entity_id = constant.ENTITY_ID\n      httptransfer.queryUserImage(searchParametre, entity_id)\n      .then(response => {\n        if (response.status === 200){\n          if (response['data']['images'].length) {\n          this.setState({\n              imageUrl : response['data']['images'][0]['image_download_url'],\n              image_id:response['data']['images'][0]['image_id']\n          })\n        }\n        else {\n          this.setState ({\n            imageUrl : null\n          })\n        }\n        }\n      })\n    }\n    render() {  \n        return (\n            <div>\n                <Jumbotron fluid >\n                <Container fluid id='base-container'>\n                          {\n                        this.state.showPopup ?\n                          <UpdateInfo\n                            showPopup={this.state.showPopup}\n                            closePopup={this.togglePopup.bind(this)}\n                            userInfo={this.state.userInfo}/>\n                          : null\n                      }\n                      {\n                        this.state.profilePopup ?\n                          <UploadProfilePicture\n                            showPopup={this.state.profilePopup}\n                            closePopup={this.profilePopup.bind(this)}/>\n                          : null\n                      }\n                      {this.state.userInfo.map((item, index) => {\n                          return (<div>\n                            <Row>\n                              <Col sm=\"6\">\n                                <span id='profilePhoto'>\n                                  {this.state.image_id.length!=0 ?\n                                  <img src={this.state.imageUrl} alt=\"image\" onClick={this.profilePopup.bind(this)} /> :\n                                  <i className=\"fa fa-user\" id=\"defaultPhoto\" aria-hidden=\"true\" onClick={this.profilePopup.bind(this)} ></i> \n                                  }\n                                </span>\n                              </Col>\n                              <Col sm=\"6\">\n                                <button className=\"btn btn-info pull-right mt-4\" onClick={this.togglePopup.bind(this)} >\n                                Update Information</button>\n                              </Col>\n                            </Row>\n\n                              <Row id=\"info-account\" className=\"pt-3 ml-1 font-weight-bold\">\n                                <span>ACCOUNT INFORMATION</span>\n                              </Row>\n                            <Row className=\"pt-3 font-weight-bold\">\n                                    <Col xs=\"3\" sm=\"3\">Full Name :</Col>\n                                    <Col xs=\"8\" sm=\"8\">{item.first_name}<span className=\"pl-2\">{item.last_name}</span></Col>\n                                </Row>\n                                \n                                <Row className=\"pt-3 font-weight-bold\">\n                                    <Col xs=\"3\" sm=\"3\">Email :</Col>\n                                    <Col xs=\"8\" sm=\"8\">{item.email ? item.email : <span className=\"font-weight-bold\">-</span> }</Col>\n                                </Row>\n                                <Row className=\"pt-3 font-weight-bold\">\n                                    <Col xs=\"3\" sm=\"3\">Contact No. :</Col>\n                                    <Col xs=\"8\" sm=\"8\">{  item.mobile ? item.mobile : <span className=\"font-weight-bold\">-</span> }</Col>\n                                </Row>\n                                <Row className=\"pt-3 font-weight-bold\">\n                                    <Col xs=\"3\" sm=\"3\">Gender :</Col>\n                                    <Col xs=\"8\" sm=\"8\">{  item.gender ? item.gender : <span className=\"font-weight-bold\">-</span> }</Col>\n                                </Row>\n                                <Row className=\"pt-3 font-weight-bold\">\n                                    <Col xs=\"3\" sm=\"3\">D.O.B. :</Col>\n                                    <Col xs=\"8\" sm=\"8\">{  item.dob ? moment(item.dob).format(utils.displayDate()) :  <span className=\"font-weight-bold\">-</span>}</Col>\n                                </Row></div>\n                          )\n                        })}\n                \n                </Container>\n                </Jumbotron>    \n            </div>\n        )\n    }\n}\n\nexport default Info;"]},"metadata":{},"sourceType":"module"}